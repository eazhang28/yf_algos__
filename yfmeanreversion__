import numpy as np
import matplotlib.pyplot as plt
import yfinance as yf
import requests
from bs4 import BeautifulSoup

url = "https://en.wikipedia.org/wiki/List_of_S%26P_500_companies"
response = requests.get(url)
soup = BeautifulSoup(response.text, "html.parser")
table = soup.find('table', {'class': 'wikitable sortable'})
tickers = []
for tr in table.find_all('tr')[1:]:
    cells = tr.find_all(['td', 'th'])
    row = [cell.text.strip() for cell in cells]
    tickers.append(row[0])

# tickers acquired

aapl = yf.Ticker("AAPL")
long_hist =  aapl.history(period="3mo")
short_hist = aapl.history(period="5d")
#aapl_price = aapl.info.get('currentPrice')
print(long_hist['Close'].mean())
print(short_hist['Close'].mean())
if short_hist['Close'].mean() > long_hist['Close'].mean():
    print("buy")